# ラーメン屋のレシート発行

注文の品を受け取り、最後にレシートを所定のフォーマットで出力するレシート発行システムを実装せよ

## 前提条件

### 定義済みの構造体

#### `Item`

商品を表す構造体です。

- `Name`

`len(Name) <= 8`

商品の名前を表すフィールドです。

- `Price`

`Price > 0`

商品の価格を表すフィールドです。

#### Casher

レシート発行システムを表す構造体です。

- `List`

商品別の注文額を表す `map[string]int` 型の構造体です。

Key が商品名で Value がその商品の合計額になります。

同じ商品が注文された際には登録済みの合計額に加算する処理を行う必要があります。

- `TotalPrice`

合計金額を表すフィールドです。

商品を問わず、注文されたすべての金額を合算して保存する必要があります。

### 商品の登録

`func (c *Casher) Purchase(item *Item)` に `Item` を渡すことで登録を行います。

渡した `Item` の値を変更する必要はありません。

### レシートの発行

商品を登録後、 `func (c *Casher) Receipt() string` を実行するとレシートを文字列として返すように実装してください。

規定のフォーマットは以下の通りです。

```txt
ラーメン道 楽酢

Chahan    :      620
Gyoza     :     1560
Ramen     :      890
--------------------
                 890
```

レシートに求められる要件は以下のとおりです。

- 最初と最後に改行コード `\n` が必要
- 1 行ごとに改行コード `\n` が必要
- 最初の行に `ラーメン道 楽酢` という店名が入る
- 店名の下に空行が 1 行
- 空行の後に商品ごとの明細を表示
  - 一行は半角 20 文字固定
  - 商品名は半角 8 文字まで
  - 9 文字目に半角コロン `:` が表示される
  - 商品ごとの価格を右詰めで表示する
- 明細の後にセパレーターとして `-` を 20 文字表示する
- 最後に合計金額を 20 文字の行の右詰めで表示する

## Tips

### 文字列のフォーマット

特定の文字列に変数の値を埋め込みたい場合は `fmt.Sprintf(format string, a ...interface{}) string` を使用します。

第一引数には埋め込みコード入りのベースになる文字列を渡し、第二以降の引数に値を渡すことで、動的な文字列生成を行える便利なパッケージです。

埋め込みコードも種類が豊富にあり、埋め込み位置にもどんな表記で埋め込むのかを柔軟に操作できます。

詳細は [こちらの記事](https://zenn.dev/mkosakana/articles/97466310534b4c) が詳しいです。

## テスト実行コマンド

1. ローカルで実行する場合
`task test -- subject/chapter07`
1. Docker上で実行する場合
`task docker-build` (初回のみ)
`task docker-test -- subject/chapter07`

## CI結果確認

GitHubにpush後、以下のページで自分のブランチの結果を確認
[Testing Chapter 07](https://github.com/kurupeku/hello-golang/actions/workflows/chapter07_test.yml)
